# plc projection
------
## 项目简介
此项目起源自数年前我经手的一个工厂供电系统。此系统的主要目的是破碎石料得到大小两种沙砾和一种粉料。整个生产线的流程如下：
![流程图](https://github.com/crazyyin/plc_projection/blob/master/image/%E6%9C%AA%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6.png "流程图")
其中实线部分是物料的路径，虚线部分为除尘部分。<br>
在设计完供电系统后，面临的问题是如果使用传统线控的话，接线复杂且后期维护太过困难。考虑到工厂环境，使用西门子S7-200PLC作为控制核心。在调试过程中，由于需求变更，增加了很多控制状况。故考虑增加一台上位机进行组态，方便模式切换。选用python-snap7进行电脑端控制，方便加密。
## 程序流程
![程序流程图](https://github.com/crazyyin/plc_projection/blob/master/image/%E9%80%BB%E8%BE%91%E5%9B%BE.png "程序流程图")<br>
主程序中包含多个子程序。其中最主要的有上图中的四个：
1. 调试模式 方便单独启动机器
2. 模式1 圆震动筛2启动圆震动筛3停止
3. 模式2 圆震动筛3启动圆震动筛2停止
4. 顺序停止 依流程图，由皮带开始按程序预定时间逐步停止设备
## 依赖库
python-snap7
